import { Meta } from "@storybook/addon-docs";

<Meta title="React Style Guide" />

# Стиль кода для React приложений

### Основные правила

В проектах используются собственная библиотека UI компонентов https://www.npmjs.com/package/@vshp/ui-components и https://ant.design/

- большинство компонентов в проекте должны быть функциональными (всегда, когда компонент не хранит в себе состояние);

- один файл содержит один компонент;

- расширение `.jsx` для всех файлов, которые содержат JSX, независимо от того, создаётся ли компонент в этом файле или нет;

### Именование

- Используйте `PascalCase` для названий файлов и компонентов, например, `ProductCard.jsx`;
- Название компонента всегда начинается с большой буквы;
- Называйте файлы так же как и компоненты;
- Все переменные должны быть названы в верблюжьем регистре (camelCase). Исключение - константы, которые должны именоваться прописными буквами в константном регистре (CONSTANT_CASE);

### Отступы, пробелы и переносы

Для отступов используются два пробела. Знак табуляции не используется.
Запрещено одновременное использование табов и пробелов для отступов.

Обязательно использовать запятую в конце списков, объектов или перечислений параметров функции.

### Колбеки

```
class App extends React.Component {
  render() {
    return <MyInput
      onChange={e => this.props.update(e.target.value)} />;
  }
}
```

На каждый вызов функции `render` генерируется новая функция-обработчик (колбек), что ломает эффективное обновление.

Поэтому определяем обработчики как свойства на уровне класса.

Все функции-обработчики являются **стрелочными функциями**

### Hooks

- Хуки следует вызывать только **на верхнем уровне**. Не вызывайте хуки внутри циклов, условий или вложенных функций.
- Хуки следует вызывать только **из функциональных компонентов React**. Не вызывайте хуки из обычных JavaScript-функций.

### Отладчик и консоль

В коде не используются оставленные выводы в консоль

### Неиспользуемый код

В проекте нет недоступного кода, который никогда не выполнится

В коде нет объявленных, но неиспользуемых переменных
Кроме спорных моментов, помеченных комментарием TODO

### Дополнения

Для добавления и удаления классов рекомендуются использовать пакет https://www.npmjs.com/package/classnames

```
import cn from 'classnames';

class Button extends React.Component {
  render () {
    const { isPressed, isHovered, label } = this.props;

    // значение это true или false. Если значение true, то класс будет включен, если false – то нет
    // 'btn' это класс который будет подставлен в любом случае

    const btnClass = cn('btn', {
      'btn something-else': true,
      'btn-pressed': isPressed,
      'btn-over': !isPressed && isHovered,
    });
    return <button className={btnClass}>{label}</button>;
  }
};
```

Иногда имя класса генерируется динамически, тогда можно использовать следующий код:

```
const buttonType = 'primary';
const btnClass = cn('btn', `btn-${buttonType}`);
```
